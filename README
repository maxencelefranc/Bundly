<div align="center">

# ğŸ’ **Bondly : Notre App Couple**

## *Parce quâ€™aimer, câ€™est aussi sâ€™organiser ensemble ğŸ’•*

![Static Badge](https://img.shields.io/badge/React_Native-Mobile_App-61DAFB?logo=react&logoColor=white)
![Static Badge](https://img.shields.io/badge/Supabase-Backend-green?logo=supabase)
![Static Badge](https://img.shields.io/badge/Expo-Deployed-blue?logo=expo)
![Static Badge](https://img.shields.io/badge/License-MIT-yellow)
![Static Badge](https://img.shields.io/badge/Status-In_Development-orange)

</div>

---

## ğŸ§  **Concept**

**Notre App Couple** est une application mobile conÃ§ue pour aider les couples Ã  :  
ğŸ’¬ mieux communiquer,  
ğŸ§˜â€â™€ï¸ prendre soin de leur santÃ© et de leur bien-Ãªtre,  
ğŸ“… sâ€™organiser ensemble au quotidien,  
ğŸ¾ et mÃªme gÃ©rer leur petit compagnon Ã  quatre pattes !  

Tout est pensÃ© pour renforcer la comprÃ©hension mutuelle, simplifier la logistique de la vie Ã  deux, et apporter une touche dâ€™amour et de bienveillance dans chaque interaction.

---

## ğŸŒˆ **AperÃ§u global**

| Module | Description rapide |
|:--|:--|
| ğŸ  **Dashboard** | Vue dâ€™ensemble personnalisÃ©e du couple : humeur, tÃ¢ches, santÃ©, et Ã©vÃ©nements Ã  venir. |
| ğŸ± **Pet Management** | Gestion complÃ¨te du chat : repas, vaccins, suivi du poids et carnet vÃ©tÃ©rinaire. |
| ğŸŒ¸ **Cycle & SantÃ©** | Suivi du cycle menstruel, des traitements thyroÃ¯diens, et des rendez-vous mÃ©dicaux. |
| ğŸ˜Š **Journal dâ€™Ã©motions** | Enregistrement quotidien des humeurs et alertes de soutien au partenaire. |
| âœ… **TÃ¢ches & Organisation** | RÃ©partition Ã©quitable, rappels automatiques et historique partagÃ©. |
| ğŸ›’ **Liste de courses** | Liste collaborative, budget commun, et notifications en temps rÃ©el. |
| ğŸ§ƒ **Anti-Gaspillage Alimentaire** | Gestion des dates de pÃ©remption et alertes intelligentes pour Ã©viter le gaspillage. |
| ğŸ“… **Dates importantes** | Anniversaires, surprises et milestones du couple. |
| ğŸ”” **Notifications intelligentes** | Rappels personnalisÃ©s, urgences, et actions rapides depuis la notif. |

---

## âš™ï¸ **Stack technique**

| Composant | Technologie |
|------------|-------------|
| ğŸ’» **Front-end** | [React Native (Expo)](https://expo.dev/) |
| ğŸ§© **Back-end** | [Supabase](https://supabase.io/) â€“ Auth, Realtime, PostgreSQL |
| ğŸ” **Authentification** | Supabase Auth (avec `couple_id` partagÃ©) |
| â˜ï¸ **Stockage** | Supabase Storage |
| ğŸ“² **Notifications push** | Expo Notifications + Realtime |
| ğŸš€ **CI/CD** | Expo EAS + GitHub Actions |

---

## ğŸ¨ **Design & UX**

âœ¨ **Design mobile-first**, fluide et chaleureux  
ğŸŒ— ThÃ¨me clair/sombre dynamique  
ğŸ¡ Navigation Ã  9 onglets (bottom tabs)  
ğŸ’« Cartes animÃ©es et gradients doux  
â™¿ AccessibilitÃ© complÃ¨te (VoiceOver, ARIA)

> Lâ€™expÃ©rience utilisateur est pensÃ©e pour Ãªtre simple, fluide et bienveillante.  
> Le couple doit se sentir â€œaccompagnÃ©â€, pas â€œsurveillÃ©â€.

---

## ğŸ—„ï¸ **Base de donnÃ©es (Supabase)**

Chaque utilisateur est liÃ© Ã  un `couple_id`, ce qui permet :

- ğŸ”„ une **synchronisation temps rÃ©el** entre partenaires,  
- ğŸ” une **confidentialitÃ© complÃ¨te** (donnÃ©es chiffrÃ©es),  
- ğŸ’¬ des **interactions contextuelles** (humeurs, notifications, tÃ¢ches, etc.).

**Tables principales :**

- users  
- couples  
- medications  
- moods  
- tasks  
- appointments  
- pets  
- cycles  
- shopping_items  
- food_items ğŸ *(nouveau)*  
- important_dates  
- notifications  
- history_*

Chaque enregistrement liÃ© Ã  un couple partage un mÃªme `couple_id` pour la synchronisation et la confidentialitÃ©.

---

## ğŸ“ˆ **FonctionnalitÃ©s clÃ©s**

### ğŸ’Š Suivi santÃ©
- Gestion des traitements (p.ex. thyroÃ¯de), posologies et rappels  
- Historique dâ€™observance et alertes au partenaire  

### ğŸ’ Communication Ã©motionnelle
- Journal dâ€™humeur quotidien (Ã©chelle + note)  
- RÃ©sumÃ© automatique envoyÃ© au partenaire  
- Graphiques et dÃ©tection de patterns / alertes de soutien  

### ğŸ§¹ Vie quotidienne
- RÃ©partition des tÃ¢ches, systÃ¨me de points/rotation  
- Liste de courses partagÃ©e et suivi budgÃ©taire  
- Historique et analytics simples  

### ğŸ¾ Gestion du chat
- Carnet vÃ©tÃ©rinaire, planning repas, suivi du poids  
- Galerie photos organisÃ©e et rappels vaccinaux  

### ğŸ§ƒ Gestion anti-gaspillage alimentaire
- Ajout rapide de produits (manuel ou via scan code-barres)  
- CatÃ©gories : frigo, congÃ©lateur, placard  
- Alerte automatique avant pÃ©remption (personnalisable)  
- Codes couleur selon lâ€™Ã©tat : ğŸŸ© OK | ğŸŸ¨ BientÃ´t pÃ©rimÃ© | ğŸŸ¥ PÃ©rimÃ©  
- Historique des produits consommÃ©s / jetÃ©s  
- Suggestion automatique pour la liste de courses  
- Synchronisation en temps rÃ©el entre partenaires  

#### **Structure Supabase (`food_items`)**

| Colonne | Type | Description |
|:--|:--|:--|
| `id` | `uuid` | Identifiant unique |
| `couple_id` | `uuid` | Identifie le couple |
| `name` | `text` | Nom du produit |
| `category` | `text` | (ex: laitier, fruit, boissonâ€¦) |
| `location` | `text` | (frigo, placard, congÃ©lateurâ€¦) |
| `expiration_date` | `date` | Date limite de consommation |
| `quantity` | `int` | Optionnel |
| `status` | `text` | (`fresh`, `soon`, `expired`) |
| `created_at` | `timestamp` | Date dâ€™ajout |
| `updated_at` | `timestamp` | DerniÃ¨re modification |

---

## ğŸ”” **Notifications intelligentes**

- Priorisation : **Urgent / Normal / Doux**  
- Badges dynamiques et actions rapides (Marquer fait, Reporter)  
- Mode â€œCalmeâ€ / Week-end romantique pour rÃ©duire les interruptions  
- Alertes automatiques pour les produits proches de la date limite  

---

## ğŸ”’ **SÃ©curitÃ© & confidentialitÃ©**

- Authentification via Supabase Auth  
- DonnÃ©es sensibles chiffrÃ©es cÃ´tÃ© client avant stockage  
- Sauvegardes cloud et droit Ã  la suppression complÃ¨te (RGPD)  
- AccÃ¨s et partage limitÃ©s au `couple_id` uniquement  

---

## ğŸ§± **Roadmap (suggestion)**

| Ã‰tape | FonctionnalitÃ© | Statut |
|:--|:--|:--|
| 1ï¸âƒ£ | Auth & couple_id | âœ… TerminÃ© |
| 2ï¸âƒ£ | Dashboard & notifications | ğŸš§ En cours |
| 3ï¸âƒ£ | MÃ©dicaments & Ã©motions | â³ Ã€ venir |
| 4ï¸âƒ£ | TÃ¢ches, courses & anti-gaspillage | â³ Ã€ venir |
| 5ï¸âƒ£ | Chat & calendrier | â³ Ã€ venir |
| 6ï¸âƒ£ | BÃªta publique | ğŸ¯ Objectif Q1 2026 |

---

## ğŸŒŸ **Ã‰volutions futures**

- ğŸ’¬ Messagerie Ã©motionnelle intÃ©grÃ©e  
- â¤ï¸ DÃ©fis & gamification pour renforcer la complicitÃ©  
- ğŸ§  IA dâ€™analyse (corrÃ©lations humeur â†” activitÃ©s â†” alimentation)  
- ğŸŒ Multi-langue et personnalisation avancÃ©e  
- ğŸ“¸ Reconnaissance automatique des aliments via photo / IA  
 - ğŸš— Rappels intelligents dâ€™entretiens vÃ©hicule (date & kilomÃ©trage)  
 - ğŸ§  Parsing IA des plannings (texte libre / photo âœ shifts)  
 - ğŸ¤– Suggestions croisÃ©es (disponibilitÃ©s communes âœ activitÃ©s / tÃ¢ches)  

---

## ğŸ‘¨â€ğŸ’» **DÃ©veloppeur**

CrÃ©Ã© avec â¤ï¸ par **Johanna Gillet & Maxence Lefranc**

---

## ğŸš€ DÃ©marrage (Android Studio Ã©mulateur)

PrÃ©requis:
- Node 18+ et npm
- Expo CLI (via `npx`)
- Android Studio + un Ã©mulateur Android dÃ©marrÃ©

1) Copier `.env.example` vers `.env` et renseigner vos variables Supabase:
	- `SUPABASE_URL`
	- `SUPABASE_ANON_KEY`

2) Installer les dÃ©pendances (une seule fois):

```powershell
npm install
npx expo install
```

3) Lancer lâ€™application sur lâ€™Ã©mulateur Android:

```powershell
npx expo start --android
```

4) CÃ´tÃ© Supabase, exÃ©cuter les scripts SQL du dossier `supabase/sql` dans lâ€™ordre suivant:
	- `00_extensions.sql`
	- `01_couples.sql` (ou `02_couples.sql` si lâ€™ancien nom existe)
	- `02_profiles.sql` (ou `01_profiles.sql` si lâ€™ancien nom existe)
	- `06_storage_avatars.sql` (bucket `avatars` + policies)
	- `03_food_items.sql`
	- `04_vehicles.sql`
	- `05_schedules.sql`

AprÃ¨s avoir crÃ©Ã© les tables, allez dans Settings âœ API de votre projet Supabase et cliquez sur â€œRefresh Schema Cacheâ€ (ou redÃ©marrez PostgREST) si vous voyez des erreurs cÃ´tÃ© app.

> Astuce: crÃ©ez un utilisateur via lâ€™Ã©cran dâ€™inscription, puis crÃ©ez ou rejoignez un couple pour activer la synchro.

### ğŸ§ª Test rapide Anti-gaspi

1. Allez dans lâ€™onglet â€œAnti-gaspiâ€
2. Ajoutez un produit avec une date de pÃ©remption proche pour voir le statut passer en ğŸŸ¨ `soon` ou ğŸŸ¥ `expired`.

---

## ğŸ†˜ DÃ©pannage rapide

"Could not find the table 'public.profiles' in the schema cache"

- VÃ©rifiez que vous avez bien exÃ©cutÃ© `01_couples.sql` AVANT `02_profiles.sql` (lâ€™ordre compte Ã  cause de la clÃ© Ã©trangÃ¨re).
- ExÃ©cutez ensuite `06_storage_avatars.sql` si vous souhaitez utiliser lâ€™avatar de profil.
- Allez dans Supabase âœ Settings âœ API âœ â€œRefresh Schema Cacheâ€.
- RedÃ©marrez lâ€™app Expo.

Si le problÃ¨me persiste, ouvrez lâ€™Ã©diteur SQL Supabase et lancez

```sql
select * from public.profiles limit 1;
```

pour vÃ©rifier lâ€™existence de la table.

## ğŸ› ï¸ DÃ©pendances principales

- Expo + expo-router (navigation par onglets)
- Supabase (`@supabase/supabase-js`) + AsyncStorage (persistance de session)
- UI simple maison (ThemedText, Card, Button)
- ESLint + Prettier

---

## ğŸ“‚ Structure du projet (extrait)

- `app/` â€” Routes (Expo Router)
  - `(auth)/` â€” Connexion, inscription, configuration du couple
  - `(tabs)/` â€” 9 onglets principaux (Dashboard, Chat, Cycle, Humeurs, TÃ¢ches, Courses, Anti-gaspi, Dates, Notifs)
- `src/lib/` â€” Supabase + AuthProvider
- `src/features/antiwaste/` â€” CRUD des aliments et logique de statut
- `src/features/vehicles/` â€” VÃ©hicules, entretiens & journal (logs)
- `src/features/schedules/` â€” Planning travail + imports texte (prÃ©-IA)
- `supabase/sql/` â€” SchÃ©ma SQL et RLS

---

## ğŸš— Module VÃ©hicules (Nouveau)

SchÃ©ma: `supabase/sql/04_vehicles.sql`

| Table | RÃ´le |
|-------|------|
| `vehicles` | MÃ©tadonnÃ©es (marque, modÃ¨le, plaque, kilomÃ©trage, assurances) |
| `vehicle_maintenances` | Entretien planifiÃ© ou rÃ©current (type, intervalle km/date, prochaine Ã©chÃ©ance) |
| `vehicle_logs` | Journal rapide (plein, rÃ©paration, contrÃ´le technique, coÃ»t) |

Objectifs UI (prochain sprint):
- Liste des vÃ©hicules avec jauge kilomÃ©trage & badge â€œProchain entretienâ€
- DÃ©tail vÃ©hicule âœ historique / entretiens / actions rapides
- Calcul dynamique statut entretien: `ok`, `soon`, `overdue`
- Notifications de rappel (km ou date)

---

## ğŸ—“ï¸ Module Planning Travail (Nouveau)

SchÃ©ma: `supabase/sql/05_schedules.sql`

| Table | RÃ´le |
|-------|------|
| `schedules` | CrÃ©neaux normalisÃ©s (date, start_time, end_time, role, location) |
| `schedule_imports` | Texte brut collÃ© avant parsing IA (status: pending / parsed / error) |

FonctionnalitÃ©s prÃ©vues:
- Vue semaine compacte (lundi âœ dimanche) + total heures
- Import texte (coller planning) âœ prÃ©-parsing regex initial âœ future IA
- Fusion des plannings des deux partenaires pour dÃ©tecter crÃ©neaux communs
- Suggestions automatiques (activitÃ© couple / tÃ¢ches Ã  caser)

Ã‰tapes IA (later): Edge Function + LLM pour extraction fiable (heures, rÃ´le, lieu).

---

## ğŸ”§ Prochaines Ã©tapes techniques

1. Ã‰crans `(tabs)/vehicles` & `(tabs)/schedules` (listes + placeholders).
2. Composants UI: Badge entretien (couleur), timeline logs, vue semaine planning.
3. Logique calcul â€œdue soon / overdueâ€ selon km ou date prochaine.
4. Import planning âœ parsing regex âœ stocker dans `schedule_imports`.
5. Notifications pour entretiens imminents & dÃ©but de shift.
6. README: ajouter exemples dâ€™API une fois les Ã©crans intÃ©grÃ©s.

---

---

## âš ï¸ Notes

- Les icÃ´nes et splash sont gÃ©nÃ©riques par dÃ©faut; vous pouvez ajouter vos images dans `assets/` et les rÃ©fÃ©rencer dans `app.config.ts`.
- Pour les notifications push, lâ€™intÃ©gration Expo est prÃªte cÃ´tÃ© dÃ©pendances; lâ€™implÃ©mentation sera rÃ©alisÃ©e dans une itÃ©ration suivante.